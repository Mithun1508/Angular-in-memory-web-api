{
  "version": 3,
  "sources": ["../../in-memory-web-api/gulpfile.js"],
  "sourcesContent": ["var gulp = require('gulp');\nvar $ = require('gulp-load-plugins')({lazy: true});\nvar args = require('yargs').argv;\nvar cp = require('child_process');\nvar del = require('del');\n\nvar path = require(\"path\");\n\nvar tsOutput = './in-memory-web-api/';\nvar jsCopySrc = ['*.js', '*.js.map', '*.d.ts'].map(ext => tsOutput + ext);\n\ngulp.task('default', ['help']);\n\ngulp.task('help', $.taskListing.withFilters(function (taskName) {\n  var isSubTask = taskName.substr(0, 1) == \"_\";\n  return isSubTask;\n}, function (taskName) {\n  var shouldRemove = taskName === 'default';\n  return shouldRemove;\n}));\n\ngulp.task('build', ['tsc'], function(){\n  return gulp\n    .src(jsCopySrc)\n    .pipe(gulp.dest('./'));\n});\n\ngulp.task('tsc',['clean'], function(done) {\n    runTSC('./', done);\n});\n\ngulp.task('clean', function(done) {\n  clean([tsOutput+'*.*', '*.js', '*.js.map', '*.d.ts', '!gulpfile.js'], done);\n});\n\n/**\n * Bump the version\n * --type=pre will bump the prerelease version *.*.*-x\n * --type=patch or no flag will bump the patch version *.*.x\n * --type=minor will bump the minor version *.x.*\n * --type=major will bump the major version x.*.*\n * --version=1.2.3 will bump to a specific version and ignore other flags\n */\ngulp.task('bump', function() {\n    var msg = 'Bumping versions';\n    var type = args.type;\n    var version = args.ver;\n    var options = {};\n    if (version) {\n        options.version = version;\n        msg += ' to ' + version;\n    } else {\n        options.type = type;\n        msg += ' for a ' + type;\n    }\n    log(msg);\n\n    return gulp\n        .src('package.json')\n//        .pipe($.print())\n        .pipe($.bump(options))\n        .pipe(gulp.dest('./'));\n});\n//////////\n\nfunction clean(path, done) {\n    log('Cleaning: ' + $.util.colors.blue(path));\n    del(path, {dryRun:false})\n    .then(function(paths) {\n      console.log('Deleted files and folders:\\n', paths.join('\\n'));\n    })\n    .then(done,done);\n}\n\nfunction log(msg) {\n    if (typeof(msg) === 'object') {\n        for (var item in msg) {\n            if (msg.hasOwnProperty(item)) {\n                $.util.log($.util.colors.blue(msg[item]));\n            }\n        }\n    } else {\n        $.util.log($.util.colors.blue(msg));\n    }\n}\nfunction runTSC(directory, done) {\n    directory = directory || './';\n    var tscjs = path.join(process.cwd(), 'node_modules/typescript/bin/tsc');\n    var childProcess = cp.spawn('node', [tscjs, '-p', directory], { cwd: process.cwd() });\n    childProcess.stdout.on('data', function (data) {\n        console.log(data.toString());\n    });\n    childProcess.stderr.on('data', function (data) {\n        console.log(data.toString());\n    });\n    childProcess.on('close', function () {\n        done();\n    });\n}\n\n// WILL THIS WORK? DOES IT PROMPT?\nfunction runTypings(done) {\n    var typingsjs = path.join(process.cwd(), 'node_modules/typings/dist/bin/typings');\n    var childProcess = cp.spawn('node', [typingsjs, 'install'], { cwd: process.cwd() });\n    childProcess.stdout.on('data', function (data) {\n        console.log(data.toString());\n    });\n    childProcess.stderr.on('data', function (data) {\n        console.log(data.toString());\n    });\n    childProcess.on('close', function () {\n        done();\n    });\n}\n"],
  "mappings": "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",
  "names": ["path"]
}
